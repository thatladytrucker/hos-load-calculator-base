<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HOS Load Calculator — v6.1a (Baseline)</title>

  <!-- PWA basics -->
  <meta name="theme-color" content="#0f172a" />
  <link rel="manifest" href="manifest.webmanifest" />
  <!-- icons (put pngs in /icons) -->
  <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192.png" />
  <link rel="icon" type="image/png" sizes="512x512" href="icons/icon-512.png" />
  <link rel="apple-touch-icon" href="icons/icon-180.png" />

  <!-- App styles -->
  <link rel="stylesheet" href="styles.css" />

  <!-- Minimal dark fallback so page isn't bright if CSS hasn't loaded yet -->
  <style>
    :root{
      --bg:#0f172a;        /* slate-900 */
      --card:#111827;      /* gray-900 */
      --text:#e5e7eb;      /* gray-200 */
      --muted:#94a3b8;     /* slate-400 */
      --accent:#60a5fa;    /* blue-400 */
      --good:#10b981;      /* emerald-500 */
      --bad:#ef4444;       /* red-500 */
      --warn:#f59e0b;      /* amber-500 */
      --btn:#3b82f6;       /* blue-500 */
      --btnText:#ffffff;
      --radius:14px;
    }
    *{box-sizing:border-box;font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif}
    body{margin:0;background:var(--bg);color:var(--text)}
    .container{max-width:960px;margin:auto;padding:16px}
    header, footer{display:flex;gap:12px;align-items:center;justify-content:space-between}
    .title{font-weight:700;font-size:1.1rem;letter-spacing:.2px}
    .card{background:var(--card);border:1px solid #1f2937;border-radius:var(--radius);padding:14px}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media (max-width:720px){.row{grid-template-columns:1fr}}
    label{font-size:.85rem;color:var(--muted);display:block;margin-bottom:6px}
    input,select{width:100%;background:#0b1220;color:var(--text);border:1px solid #1f2937;border-radius:10px;padding:10px}
    .btnbar{display:flex;gap:8px;flex-wrap:wrap}
    button{background:var(--btn);color:var(--btnText);border:0;border-radius:12px;padding:10px 14px;font-weight:600}
    .pill{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;border-radius:999px;font-weight:600}
    .pill.good{background:rgba(16,185,129,.12);color:var(--good)}
    .pill.bad{background:rgba(239,68,68,.12);color:var(--bad)}
    .pill.warn{background:rgba(245,158,11,.12);color:var(--warn)}
    small.disclaimer{color:var(--muted);font-size:.78rem;line-height:1.3}
    a{color:var(--accent);text-decoration:none}
  </style>
</head>
<body>
  <noscript>
    <div class="container">
      <p class="card">This app needs JavaScript to run.</p>
    </div>
  </noscript>

  <div class="container">
    <!-- HEADER -->
    <header>
      <div class="title">TOYA’S HOS LOAD CALCULATOR <span style="opacity:.6">v6.1a</span></div>
      <div class="pill warn" id="netStatus">PWA: offline-ready</div>
    </header>

    <!-- INPUTS -->
    <section class="card" aria-labelledby="inputsTitle">
      <h2 id="inputsTitle" style="margin:0 0 8px 0;font-size:1rem">Driver Inputs</h2>
      <div class="row">
        <div>
          <label for="eta">Planned ETA (local)</label>
          <input type="time" id="eta" />
        </div>
        <div>
          <label for="pta">PTA (Projected Time Available)</label>
          <input type="time" id="pta" />
        </div>
        <div>
          <label for="driveHrs">Drive hours remaining</label>
          <input type="number" id="driveHrs" min="0" step="0.25" placeholder="e.g., 6.5" />
        </div>
        <div>
          <label for="split">8/2 Split?</label>
          <select id="split">
            <option value="none">No</option>
            <option value="8-2">8/2 Eligible</option>
          </select>
        </div>
      </div>
      <div class="btnbar" style="margin-top:12px">
        <button id="calcBtn">Calculate</button>
        <button id="resetBtn" type="button">Reset</button>
        <button id="helpBtn" type="button">Help</button>
      </div>
    </section>

    <!-- STATUS / OUTPUTS -->
    <section class="card" aria-labelledby="statusTitle" style="margin-top:12px">
      <h2 id="statusTitle" style="margin:0 0 8px 0;font-size:1rem">Status & Outputs</h2>
      <div class="row">
        <div class="card" style="background:#0b1220">
          <label>On-Time Status</label>
          <div id="ontimePill" class="pill good">On time</div>
        </div>
        <div class="card" style="background:#0b1220">
          <label>Projected Arrival</label>
          <div id="projectedArrival" class="pill">—</div>
        </div>
        <div class="card" style="background:#0b1220">
          <label>Notes</label>
          <div id="notes" style="color:var(--muted)">—</div>
        </div>
      </div>
    </section>

    <!-- DISCLAIMER -->
    <section class="card" style="margin-top:12px">
      <h3 style="margin:0 0 6px 0;font-size:1rem">Disclaimer</h3>
      <small class="disclaimer">
        This tool is for planning and training only. It does not replace FMCSA regulations, carrier policy,
        or your ELD. Always follow posted laws, your dispatcher’s instructions, and facility rules.
        Use at your own risk.
      </small>
    </section>

    <!-- FOOTER -->
    <footer style="margin-top:16px">
      <small class="disclaimer">© <span id="year"></span> Toya Cramsey. All rights reserved.</small>
      <a href="#" id="installLink" hidden>Install App</a>
    </footer>
  </div>

  <!-- App logic & PWA registration -->
  <script src="app.js"></script>
  <script>
    // tiny helper so footer year is correct even without app.js
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>

<script>
  if ("serviceWorker" in navigator) {
    window.addEventListener("load", () => {
      navigator.serviceWorker
        .register("/service-worker.js")
        .then((registration) => {
          console.log("Service Worker registered with scope:", registration.scope);
        })
        .catch((error) => {
          console.log("Service Worker registration failed:", error);
        });
    });
  }
</script>
